<<<<<<< HEAD
Internal Server Error: /app/vendors/vendor-autocomplete/
Traceback (most recent call last):
<<<<<<< HEAD
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
=======
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
>>>>>>> 85bdd12d16e76d8b068f10cb4248d13ea079bd2d
    'more': self.has_more(context)
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
<<<<<<< HEAD
TypeError: UUID('098e738b-2612-4861-a840-807b0fba9825') is not JSON serializable
Internal Server Error: /app/vendors/vendor-autocomplete/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
=======
TypeError: UUID('aa422534-e942-42fa-96d3-8b842f18f666') is not JSON serializable
Internal Server Error: /app/vendors/vendor-autocomplete/
Traceback (most recent call last):
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
>>>>>>> 85bdd12d16e76d8b068f10cb4248d13ea079bd2d
    'more': self.has_more(context)
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
<<<<<<< HEAD
TypeError: UUID('098e738b-2612-4861-a840-807b0fba9825') is not JSON serializable
Internal Server Error: /app/vendors/vendor-autocomplete/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
=======
TypeError: UUID('aa422534-e942-42fa-96d3-8b842f18f666') is not JSON serializable
Internal Server Error: /app/vendors/vendor-autocomplete/
Traceback (most recent call last):
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
>>>>>>> 85bdd12d16e76d8b068f10cb4248d13ea079bd2d
    'more': self.has_more(context)
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
<<<<<<< HEAD
TypeError: UUID('098e738b-2612-4861-a840-807b0fba9825') is not JSON serializable
Internal Server Error: /app/vendors/vendor-autocomplete/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
=======
TypeError: UUID('aa422534-e942-42fa-96d3-8b842f18f666') is not JSON serializable
Internal Server Error: /app/vendors/vendor-autocomplete/
Traceback (most recent call last):
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
>>>>>>> 85bdd12d16e76d8b068f10cb4248d13ea079bd2d
    'more': self.has_more(context)
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
<<<<<<< HEAD
TypeError: UUID('098e738b-2612-4861-a840-807b0fba9825') is not JSON serializable
Internal Server Error: /app/vendors/vendor-autocomplete/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
    'more': self.has_more(context)
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: UUID('098e738b-2612-4861-a840-807b0fba9825') is not JSON serializable
Internal Server Error: /app/vendors/vendor-autocomplete/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
    'more': self.has_more(context)
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: UUID('098e738b-2612-4861-a840-807b0fba9825') is not JSON serializable
Internal Server Error: /app/vendors/vendor-autocomplete/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
    'more': self.has_more(context)
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: UUID('098e738b-2612-4861-a840-807b0fba9825') is not JSON serializable
Internal Server Error: /app/vendors/vendor-autocomplete/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
    'more': self.has_more(context)
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: UUID('098e738b-2612-4861-a840-807b0fba9825') is not JSON serializable
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/distributors/stock-transfer/create/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/distributors/views.py", line 476, in create_stock_transfer
    print(form.errors)
UnboundLocalError: local variable 'form' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
=======
TypeError: UUID('aa422534-e942-42fa-96d3-8b842f18f666') is not JSON serializable
Internal Server Error: /app/finance/tax_category-autocomplete/
Traceback (most recent call last):
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 97, in post
    result = self.create_object(text)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/finance/autocomplete_light_registry.py", line 40, in create_object
    tax=Decimal(text),
  File "/usr/lib/python2.7/decimal.py", line 547, in __new__
    "Invalid literal for Decimal: %r" % value)
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: Invalid literal for Decimal: u'2%'
Internal Server Error: /app/finance/tax_category-autocomplete/
Traceback (most recent call last):
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 97, in post
    result = self.create_object(text)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/finance/autocomplete_light_registry.py", line 40, in create_object
    tax=Decimal(text),
  File "/usr/lib/python2.7/decimal.py", line 547, in __new__
    "Invalid literal for Decimal: %r" % value)
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: Invalid literal for Decimal: u'2%'
Internal Server Error: /app/finance/tax_category-autocomplete/
Traceback (most recent call last):
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 97, in post
    result = self.create_object(text)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/finance/autocomplete_light_registry.py", line 40, in create_object
    tax=Decimal(text),
  File "/usr/lib/python2.7/decimal.py", line 547, in __new__
    "Invalid literal for Decimal: %r" % value)
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: Invalid literal for Decimal: u'2%'
Internal Server Error: /app/finance/tax_category-autocomplete/
Traceback (most recent call last):
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 97, in post
    result = self.create_object(text)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/finance/autocomplete_light_registry.py", line 40, in create_object
    tax=Decimal(text),
  File "/usr/lib/python2.7/decimal.py", line 547, in __new__
    "Invalid literal for Decimal: %r" % value)
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: Invalid literal for Decimal: u'2%'
Internal Server Error: /app/finance/tax_category-autocomplete/
Traceback (most recent call last):
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 97, in post
    result = self.create_object(text)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/finance/autocomplete_light_registry.py", line 40, in create_object
    tax=Decimal(text),
  File "/usr/lib/python2.7/decimal.py", line 547, in __new__
    "Invalid literal for Decimal: %r" % value)
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: Invalid literal for Decimal: u'2%'
Internal Server Error: /app/finance/tax_category-autocomplete/
Traceback (most recent call last):
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 97, in post
    result = self.create_object(text)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/finance/autocomplete_light_registry.py", line 40, in create_object
    tax=Decimal(text),
  File "/usr/lib/python2.7/decimal.py", line 547, in __new__
    "Invalid literal for Decimal: %r" % value)
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: Invalid literal for Decimal: u'2%'
Internal Server Error: /app/finance/tax_category-autocomplete/
Traceback (most recent call last):
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 97, in post
    result = self.create_object(text)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/finance/autocomplete_light_registry.py", line 40, in create_object
    tax=Decimal(text),
  File "/usr/lib/python2.7/decimal.py", line 547, in __new__
    "Invalid literal for Decimal: %r" % value)
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: Invalid literal for Decimal: u'2%'
Internal Server Error: /app/finance/tax_category-autocomplete/
Traceback (most recent call last):
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 97, in post
    result = self.create_object(text)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/finance/autocomplete_light_registry.py", line 40, in create_object
    tax=Decimal(text),
  File "/usr/lib/python2.7/decimal.py", line 547, in __new__
    "Invalid literal for Decimal: %r" % value)
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: Invalid literal for Decimal: u'2%'
Internal Server Error: /app/finance/tax_category-autocomplete/
Traceback (most recent call last):
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 97, in post
    result = self.create_object(text)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/finance/autocomplete_light_registry.py", line 40, in create_object
    tax=Decimal(text),
  File "/usr/lib/python2.7/decimal.py", line 547, in __new__
    "Invalid literal for Decimal: %r" % value)
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: Invalid literal for Decimal: u'2%'
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
>>>>>>> 85bdd12d16e76d8b068f10cb4248d13ea079bd2d
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
<<<<<<< HEAD
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
=======
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
>>>>>>> 85bdd12d16e76d8b068f10cb4248d13ea079bd2d
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
<<<<<<< HEAD
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/sales/views.py", line 627, in create
    no_of_boxes = form.cleaned_data['no_of_boxes']
KeyError: 'no_of_boxes'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/sales/views.py", line 627, in create
    no_of_boxes = form.cleaned_data['no_of_boxes']
KeyError: 'no_of_boxes'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/sales/views.py", line 627, in create
    no_of_boxes = form.cleaned_data['no_of_boxes']
KeyError: 'no_of_boxes'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/sales/views.py", line 627, in create
    no_of_boxes = form.cleaned_data['no_of_boxes']
KeyError: 'no_of_boxes'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/sales/views.py", line 626, in create
    no_of_boxes = form.cleaned_data['no_of_boxes']
KeyError: 'no_of_boxes'
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
=======
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
>>>>>>> 85bdd12d16e76d8b068f10cb4248d13ea079bd2d
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
<<<<<<< HEAD
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
=======
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/home/talrop/Documents/althaf/django/estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
>>>>>>> 85bdd12d16e76d8b068f10cb4248d13ea079bd2d
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
<<<<<<< HEAD
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/sales/views.py", line 627, in create
    no_of_boxes = form.cleaned_data['no_of_boxes']
KeyError: 'no_of_boxes'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/sales/views.py", line 627, in create
    no_of_boxes = form.cleaned_data['no_of_boxes']
KeyError: 'no_of_boxes'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/sales/views.py", line 627, in create
    no_of_boxes = form.cleaned_data['no_of_boxes']
KeyError: 'no_of_boxes'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/sales/views.py", line 627, in create
    no_of_boxes = form.cleaned_data['no_of_boxes']
KeyError: 'no_of_boxes'
=======
>>>>>>> 85bdd12d16e76d8b068f10cb4248d13ea079bd2d
Internal Server Error: /app/products/inventory-adjustment/views/
Traceback (most recent call last):
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/cirtic/Documents/vajid/django/estile/src/distribution_estile/main/decorators.py", line 172, in _arguments_wrapper
    if current_shop.creator == request.user:
AttributeError: 'NoneType' object has no attribute 'creator'
Internal Server Error: /
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 24, in wrap
    mode = Mode.objects.get(id=1)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 387, in get
    self.model._meta.object_name
DoesNotExist: Mode matching query does not exist.
Internal Server Error: /app/products/alternative-unit/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1299, in create_alternative_unit
    AlternativeUnitFormset = formset_factory(ProductAlternativeUnitForm,extra=1)
NameError: global name 'ProductAlternativeUnitForm' is not defined
Internal Server Error: /app/users/settings/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/users/views.py", line 218, in settings
    updator=request.user
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: duplicate key value violates unique constraint "products_measurement_shop_id_c8dfbb9b_uniq"
DETAIL:  Key (shop_id, code)=(ea066819-a9ed-4dc6-ac75-7498f97fb459, TRAY) already exists.

Internal Server Error: /app/products/alternative-unit/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1301, in create_alternative_unit
    alternative_formset = AlternativeUnitFormset(request.POST,prefix=alternative_formset)
UnboundLocalError: local variable 'alternative_formset' referenced before assignment
Internal Server Error: /app/products/alternative-unit/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1301, in create_alternative_unit
    alternative_formset = AlternativeUnitFormset(request.POST,prefix=alternative_formset)
UnboundLocalError: local variable 'alternative_formset' referenced before assignment
Internal Server Error: /app/products/alternative-unit/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1301, in create_alternative_unit
    alternative_formset = AlternativeUnitFormset(request.POST,prefix=alternative_formset)
UnboundLocalError: local variable 'alternative_formset' referenced before assignment
Internal Server Error: /app/products/alternative-unit/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1301, in create_alternative_unit
    alternative_formset = AlternativeUnitFormset(request.POST,prefix=alternative_formset)
UnboundLocalError: local variable 'alternative_formset' referenced before assignment
Internal Server Error: /app/products/alternative-unit/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1301, in create_alternative_unit
    alternative_formset = AlternativeUnitFormset(request.POST,prefix=alternative_formset)
UnboundLocalError: local variable 'alternative_formset' referenced before assignment
Internal Server Error: /app/products/alternative-unit/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1301, in create_alternative_unit
    alternative_formset = AlternativeUnitFormset(request.POST,prefix=alternative_formset)
UnboundLocalError: local variable 'alternative_formset' referenced before assignment
Internal Server Error: /app/products/alternative-unit/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1301, in create_alternative_unit
    alternative_formset = AlternativeUnitFormset(request.POST,prefix=alternative_formset)
UnboundLocalError: local variable 'alternative_formset' referenced before assignment
Internal Server Error: /app/products/alternative-unit/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1301, in create_alternative_unit
    alternative_formset = AlternativeUnitFormset(request.POST,prefix=alternative_formset)
UnboundLocalError: local variable 'alternative_formset' referenced before assignment
Internal Server Error: /app/products/alternative-unit/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1301, in create_alternative_unit
    alternative_formset = AlternativeUnitFormset(request.POST,prefix=alternative_formset)
UnboundLocalError: local variable 'alternative_formset' referenced before assignment
Internal Server Error: /app/products/alternative-unit/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1331, in create_alternative_unit
    message = generate_form_errors(form,formset=False)
UnboundLocalError: local variable 'form' referenced before assignment
Internal Server Error: /app/products/product/views/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 475, in products
    return render(request,'products/products.html',context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader.py", line 97, in render_to_string
    return template.render(context, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/backends/django.py", line 95, in render
    return self.template.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 206, in render
    return self._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 173, in render
    return compiled_parent._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 209, in render
    return template.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 208, in render
    return self._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 326, in render
    return nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 326, in render
    return nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 326, in render
    return nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 513, in render
    six.reraise(*exc_info)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 499, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/urlresolvers.py", line 600, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/urlresolvers.py", line 508, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
NoReverseMatch: Reverse for 'pdoduct_alternative_units' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []
Internal Server Error: /app/products/product/views/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 475, in products
    return render(request,'products/products.html',context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader.py", line 97, in render_to_string
    return template.render(context, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/backends/django.py", line 95, in render
    return self.template.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 206, in render
    return self._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 173, in render
    return compiled_parent._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 209, in render
    return template.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 208, in render
    return self._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 326, in render
    return nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 326, in render
    return nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 326, in render
    return nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 513, in render
    six.reraise(*exc_info)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 499, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/urlresolvers.py", line 600, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/urlresolvers.py", line 508, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
NoReverseMatch: Reverse for 'product_alternative_units' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []
Internal Server Error: /app/products/alternative-units/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1365, in alternative_units
    instances = ProductAlternativeUnit.objects.filter(is_deleted=False,shop=current_shop)
NameError: global name 'ProductAlternativeUnit' is not defined
Internal Server Error: /app/products/alternative-units/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1365, in alternative_units
    instances = ProductAlternativeUnit.objects.filter(is_deleted=False,shop=current_shop)
NameError: global name 'ProductAlternativeUnit' is not defined
Internal Server Error: /app/products/alternative-units/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1386, in alternative_units
    return render(request,'products/alternative_units.html',context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader.py", line 96, in render_to_string
    template = get_template(template_name, using=using)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader.py", line 43, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
TemplateDoesNotExist: products/alternative_units.html
Internal Server Error: /app/products/alternative-units/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1386, in alternative_units
    return render(request,'products/alternative_units.html',context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader.py", line 97, in render_to_string
    return template.render(context, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/backends/django.py", line 95, in render
    return self.template.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 206, in render
    return self._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 173, in render
    return compiled_parent._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 69, in render
    result = block.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 513, in render
    six.reraise(*exc_info)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 499, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/urlresolvers.py", line 600, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/urlresolvers.py", line 508, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
NoReverseMatch: Reverse for 'alyernative_units' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 945, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 4!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 4!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 950, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 4!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 4!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 4!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 950, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 4!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 4!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 4!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 4!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 4!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 4!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 950, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 4!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 4!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 950, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 4!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 4!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 4!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 4!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 4!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 4!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 950, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
=======
>>>>>>> c57147beb0825039fb3b393506256a8e23449264
Internal Server Error: /app/products/measurement/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1573, in create_measurement
    message = generate_form_errors(form,formset=False)
UnboundLocalError: local variable 'form' referenced before assignment
Internal Server Error: /app/products/measurement/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1574, in create_measurement
    message = generate_form_errors(form,formset=False)
UnboundLocalError: local variable 'form' referenced before assignment
Internal Server Error: /app/products/measurement/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1575, in create_measurement
    message = generate_form_errors(form,formset=False)
UnboundLocalError: local variable 'form' referenced before assignment
Internal Server Error: /app/products/measurements/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1633, in measurements
    return render(request,'products/measurements.html',context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader.py", line 97, in render_to_string
    return template.render(context, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/backends/django.py", line 95, in render
    return self.template.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 206, in render
    return self._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 173, in render
    return compiled_parent._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 69, in render
    result = block.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 326, in render
    return nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 326, in render
    return nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 513, in render
    six.reraise(*exc_info)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 499, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/urlresolvers.py", line 600, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/urlresolvers.py", line 508, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
NoReverseMatch: Reverse for 'delete_selected_measurements' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []
Internal Server Error: /app/products/alternative-unit/view/8/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1403, in alternative_unit
    "title" : "Alternative Unit : " + instance.name,
AttributeError: 'ProductAlternativeUnitPrice' object has no attribute 'name'
Internal Server Error: /app/products/alternative-unit/edit/8/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1463, in edit_alternative_unit
    "title" : "Edit Alternative Unit : " + instance.name,
AttributeError: 'ProductAlternativeUnitPrice' object has no attribute 'name'
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 940, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 940, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 965, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 940, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 2!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 940, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 940, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 965, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 965, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 965, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 950, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 950, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 950, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 950, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 950, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 950, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 965, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 950, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 950, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 965, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 950, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 950, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 951, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 951, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 859, in create
    product = value["product"]
TypeError: tuple indices must be integers, not str
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 859, in create
    product = value["product"]
TypeError: tuple indices must be integers, not str
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 859, in create
    product = value["product"]
TypeError: tuple indices must be integers, not str
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 704, in create
    product_pk = value['product'].pk
TypeError: tuple indices must be integers, not str
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 705, in create
    product_pk = value['product'].pk
TypeError: tuple indices must be integers, not str
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 705, in create
    product_pk = value['product'].pk
TypeError: tuple indices must be integers, not str
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 705, in create
    product_pk = value['product'].pk
TypeError: tuple indices must be integers, not str
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 705, in create
    product_pk = value['product'].pk
TypeError: tuple indices must be integers, not str
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 705, in create
    product_pk = value['product']
TypeError: tuple indices must be integers, not str
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 705, in create
    product_pk = value['product']
TypeError: tuple indices must be integers, not str
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 706, in create
    product_pk = value['product']
TypeError: tuple indices must be integers, not str
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 705, in create
    print value['product']
TypeError: tuple indices must be integers, not str
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 705, in create
    print value['product']
TypeError: string indices must be integers, not str
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/sales/create-damaged-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 5114, in create_damaged_product
    message += generate_form_errors(damaged_product_formset,formset=True)
UnboundLocalError: local variable 'message' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 547, in __new__
    "Invalid literal for Decimal: %r" % value)
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: Invalid literal for Decimal: u''
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 547, in __new__
    "Invalid literal for Decimal: %r" % value)
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: Invalid literal for Decimal: u''
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 757, in create
    customer.save()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 801, in _save_table
    forced_update)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 851, in _do_update
    return filtered._update(values) > 0
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 645, in _update
    return query.get_compiler(self.db).execute_sql(CURSOR)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1149, in execute_sql
    cursor = super(SQLUpdateCompiler, self).execute_sql(result_type)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 837, in execute_sql
    sql, params = self.as_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1117, in as_sql
    val = field.get_db_prep_save(val, connection=self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 1611, in get_db_prep_save
    return connection.ops.adapt_decimalfield_value(self.to_python(value),
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 1587, in to_python
    params={'value': value},
ValidationError: [u"'' value must be a decimal number."]
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 547, in __new__
    "Invalid literal for Decimal: %r" % value)
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: Invalid literal for Decimal: u''
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 547, in __new__
    "Invalid literal for Decimal: %r" % value)
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: Invalid literal for Decimal: u''
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 757, in create
    customer.save()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 801, in _save_table
    forced_update)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 851, in _do_update
    return filtered._update(values) > 0
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 645, in _update
    return query.get_compiler(self.db).execute_sql(CURSOR)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1149, in execute_sql
    cursor = super(SQLUpdateCompiler, self).execute_sql(result_type)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 837, in execute_sql
    sql, params = self.as_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1117, in as_sql
    val = field.get_db_prep_save(val, connection=self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 1611, in get_db_prep_save
    return connection.ops.adapt_decimalfield_value(self.to_python(value),
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 1587, in to_python
    params={'value': value},
ValidationError: [u"'' value must be a decimal number."]
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 395, in get_customer_discount
    if Product.objects.filter(pk=product,shop=current_shop).exists():
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 651, in exists
    return self.query.has_results(using=self.db)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/query.py", line 501, in has_results
    return compiler.has_results()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 819, in has_results
    return bool(self.execute_sql(SINGLE))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 837, in execute_sql
    sql, params = self.as_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 389, in as_sql
    where, w_params = self.compile(self.where) if self.where is not None else ("", [])
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/where.py", line 79, in as_sql
    sql, params = compiler.compile(child)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 158, in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 91, in process_rhs
    return self.get_db_prep_lookup(value, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 62, in get_db_prep_lookup
    self.lookup_name, value, connection, prepared=True))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 776, in get_db_prep_lookup
    prepared=prepared)]
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 2391, in get_db_prep_value
    value = uuid.UUID(value)
  File "/usr/lib/python2.7/uuid.py", line 136, in __init__
    raise ValueError('badly formed hexadecimal UUID string')
ValueError: badly formed hexadecimal UUID string
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 395, in get_customer_discount
    if Product.objects.filter(pk=product,shop=current_shop).exists():
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 651, in exists
    return self.query.has_results(using=self.db)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/query.py", line 501, in has_results
    return compiler.has_results()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 819, in has_results
    return bool(self.execute_sql(SINGLE))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 837, in execute_sql
    sql, params = self.as_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 389, in as_sql
    where, w_params = self.compile(self.where) if self.where is not None else ("", [])
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/where.py", line 79, in as_sql
    sql, params = compiler.compile(child)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 158, in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 91, in process_rhs
    return self.get_db_prep_lookup(value, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 62, in get_db_prep_lookup
    self.lookup_name, value, connection, prepared=True))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 776, in get_db_prep_lookup
    prepared=prepared)]
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 2391, in get_db_prep_value
    value = uuid.UUID(value)
  File "/usr/lib/python2.7/uuid.py", line 136, in __init__
    raise ValueError('badly formed hexadecimal UUID string')
ValueError: badly formed hexadecimal UUID string
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 982, in create
    create_notification(request,'low_stock_notification',product)
  File "/srv/django/distribution_estile/src/distribution_estile/users/functions.py", line 42, in create_notification
    subject = NotificationSubject.objects.get(code=notification_type)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 387, in get
    self.model._meta.object_name
DoesNotExist: NotificationSubject matching query does not exist.
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 757, in create
    customer.save()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: duplicate key value violates unique constraint "customers_customer_shop_id_591eb8a3_uniq"
DETAIL:  Key (shop_id, name, address)=(ea066819-a9ed-4dc6-ac75-7498f97fb459, geethu, address) already exists.

Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 967, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 757, in create
    customer.save()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: duplicate key value violates unique constraint "customers_customer_shop_id_591eb8a3_uniq"
DETAIL:  Key (shop_id, name, address)=(ea066819-a9ed-4dc6-ac75-7498f97fb459, geethu, address) already exists.

Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 757, in create
    customer.save()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: duplicate key value violates unique constraint "customers_customer_shop_id_591eb8a3_uniq"
DETAIL:  Key (shop_id, name, address)=(ea066819-a9ed-4dc6-ac75-7498f97fb459, geethu, address) already exists.

Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 757, in create
    customer.save()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: duplicate key value violates unique constraint "customers_customer_shop_id_591eb8a3_uniq"
DETAIL:  Key (shop_id, name, address)=(ea066819-a9ed-4dc6-ac75-7498f97fb459, sanu, address 1) already exists.

Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 395, in get_customer_discount
    if Product.objects.filter(pk=product,shop=current_shop).exists():
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 651, in exists
    return self.query.has_results(using=self.db)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/query.py", line 501, in has_results
    return compiler.has_results()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 819, in has_results
    return bool(self.execute_sql(SINGLE))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 837, in execute_sql
    sql, params = self.as_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 389, in as_sql
    where, w_params = self.compile(self.where) if self.where is not None else ("", [])
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/where.py", line 79, in as_sql
    sql, params = compiler.compile(child)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 158, in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 91, in process_rhs
    return self.get_db_prep_lookup(value, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 62, in get_db_prep_lookup
    self.lookup_name, value, connection, prepared=True))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 776, in get_db_prep_lookup
    prepared=prepared)]
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 2391, in get_db_prep_value
    value = uuid.UUID(value)
  File "/usr/lib/python2.7/uuid.py", line 136, in __init__
    raise ValueError('badly formed hexadecimal UUID string')
ValueError: badly formed hexadecimal UUID string
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 395, in get_customer_discount
    if Product.objects.filter(pk=product,shop=current_shop).exists():
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 651, in exists
    return self.query.has_results(using=self.db)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/query.py", line 501, in has_results
    return compiler.has_results()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 819, in has_results
    return bool(self.execute_sql(SINGLE))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 837, in execute_sql
    sql, params = self.as_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 389, in as_sql
    where, w_params = self.compile(self.where) if self.where is not None else ("", [])
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/where.py", line 79, in as_sql
    sql, params = compiler.compile(child)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 158, in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 91, in process_rhs
    return self.get_db_prep_lookup(value, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 62, in get_db_prep_lookup
    self.lookup_name, value, connection, prepared=True))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 776, in get_db_prep_lookup
    prepared=prepared)]
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 2391, in get_db_prep_value
    value = uuid.UUID(value)
  File "/usr/lib/python2.7/uuid.py", line 136, in __init__
    raise ValueError('badly formed hexadecimal UUID string')
ValueError: badly formed hexadecimal UUID string
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 926, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 5!
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 395, in get_customer_discount
    if Product.objects.filter(pk=product,shop=current_shop).exists():
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 651, in exists
    return self.query.has_results(using=self.db)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/query.py", line 501, in has_results
    return compiler.has_results()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 819, in has_results
    return bool(self.execute_sql(SINGLE))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 837, in execute_sql
    sql, params = self.as_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 389, in as_sql
    where, w_params = self.compile(self.where) if self.where is not None else ("", [])
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/where.py", line 79, in as_sql
    sql, params = compiler.compile(child)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 158, in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 91, in process_rhs
    return self.get_db_prep_lookup(value, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 62, in get_db_prep_lookup
    self.lookup_name, value, connection, prepared=True))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 776, in get_db_prep_lookup
    prepared=prepared)]
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 2391, in get_db_prep_value
    value = uuid.UUID(value)
  File "/usr/lib/python2.7/uuid.py", line 136, in __init__
    raise ValueError('badly formed hexadecimal UUID string')
ValueError: badly formed hexadecimal UUID string
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 395, in get_customer_discount
    if Product.objects.filter(pk=product,shop=current_shop).exists():
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 651, in exists
    return self.query.has_results(using=self.db)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/query.py", line 501, in has_results
    return compiler.has_results()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 819, in has_results
    return bool(self.execute_sql(SINGLE))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 837, in execute_sql
    sql, params = self.as_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 389, in as_sql
    where, w_params = self.compile(self.where) if self.where is not None else ("", [])
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/where.py", line 79, in as_sql
    sql, params = compiler.compile(child)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 158, in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 91, in process_rhs
    return self.get_db_prep_lookup(value, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 62, in get_db_prep_lookup
    self.lookup_name, value, connection, prepared=True))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 776, in get_db_prep_lookup
    prepared=prepared)]
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 2391, in get_db_prep_value
    value = uuid.UUID(value)
  File "/usr/lib/python2.7/uuid.py", line 136, in __init__
    raise ValueError('badly formed hexadecimal UUID string')
ValueError: badly formed hexadecimal UUID string
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 547, in __new__
    "Invalid literal for Decimal: %r" % value)
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: Invalid literal for Decimal: u''
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 547, in __new__
    "Invalid literal for Decimal: %r" % value)
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: Invalid literal for Decimal: u''
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 547, in __new__
    "Invalid literal for Decimal: %r" % value)
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: Invalid literal for Decimal: u''
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 547, in __new__
    "Invalid literal for Decimal: %r" % value)
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: Invalid literal for Decimal: u''
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 547, in __new__
    "Invalid literal for Decimal: %r" % value)
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: Invalid literal for Decimal: u''
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 547, in __new__
    "Invalid literal for Decimal: %r" % value)
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: Invalid literal for Decimal: u''
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 547, in __new__
    "Invalid literal for Decimal: %r" % value)
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: Invalid literal for Decimal: u''
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 547, in __new__
    "Invalid literal for Decimal: %r" % value)
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: Invalid literal for Decimal: u''
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 395, in get_customer_discount
    if Product.objects.filter(pk=product,shop=current_shop).exists():
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 651, in exists
    return self.query.has_results(using=self.db)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/query.py", line 501, in has_results
    return compiler.has_results()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 819, in has_results
    return bool(self.execute_sql(SINGLE))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 837, in execute_sql
    sql, params = self.as_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 389, in as_sql
    where, w_params = self.compile(self.where) if self.where is not None else ("", [])
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/where.py", line 79, in as_sql
    sql, params = compiler.compile(child)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 158, in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 91, in process_rhs
    return self.get_db_prep_lookup(value, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 62, in get_db_prep_lookup
    self.lookup_name, value, connection, prepared=True))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 776, in get_db_prep_lookup
    prepared=prepared)]
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 2391, in get_db_prep_value
    value = uuid.UUID(value)
  File "/usr/lib/python2.7/uuid.py", line 136, in __init__
    raise ValueError('badly formed hexadecimal UUID string')
ValueError: badly formed hexadecimal UUID string
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 395, in get_customer_discount
    if Product.objects.filter(pk=product,shop=current_shop).exists():
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 651, in exists
    return self.query.has_results(using=self.db)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/query.py", line 501, in has_results
    return compiler.has_results()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 819, in has_results
    return bool(self.execute_sql(SINGLE))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 837, in execute_sql
    sql, params = self.as_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 389, in as_sql
    where, w_params = self.compile(self.where) if self.where is not None else ("", [])
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/where.py", line 79, in as_sql
    sql, params = compiler.compile(child)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 158, in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 91, in process_rhs
    return self.get_db_prep_lookup(value, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 62, in get_db_prep_lookup
    self.lookup_name, value, connection, prepared=True))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 776, in get_db_prep_lookup
    prepared=prepared)]
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 2391, in get_db_prep_value
    value = uuid.UUID(value)
  File "/usr/lib/python2.7/uuid.py", line 136, in __init__
    raise ValueError('badly formed hexadecimal UUID string')
ValueError: badly formed hexadecimal UUID string
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/products/product/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 226, in create
    base_unit = Measurement.objects.get(shop=current_shop,is_base=True,is_deleted=False,unit_type=unit_type)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 387, in get
    self.model._meta.object_name
DoesNotExist: Measurement matching query does not exist.
Internal Server Error: /app/products/product/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 226, in create
    base_unit = Measurement.objects.get(shop=current_shop,is_base=True,is_deleted=False,unit_type=unit_type)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 387, in get
    self.model._meta.object_name
DoesNotExist: Measurement matching query does not exist.
Internal Server Error: /app/products/product/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 230, in create
    unit = f.cleaned_data['unit']
KeyError: 'unit'
Internal Server Error: /app/products/product/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 230, in create
    unit = f.cleaned_data['unit']
KeyError: 'unit'
Internal Server Error: /app/products/product/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 230, in create
    unit = f.cleaned_data['unit']
KeyError: 'unit'
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 953, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 953, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 953, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 953, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 968, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 953, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 953, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 955, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 955, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 955, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 955, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 955, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 955, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 970, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 955, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 955, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 955, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 955, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 970, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 955, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 955, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 955, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 955, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 970, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/sales/estimate/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 4268, in create_estimate
    product = Product.objects.get(pk=key)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 381, in get
    num = len(clone)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 240, in __len__
    self._fetch_all()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1074, in _fetch_all
    self._result_cache = list(self.iterator())
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 52, in __iter__
    results = compiler.execute_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 837, in execute_sql
    sql, params = self.as_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 389, in as_sql
    where, w_params = self.compile(self.where) if self.where is not None else ("", [])
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/where.py", line 79, in as_sql
    sql, params = compiler.compile(child)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 158, in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 91, in process_rhs
    return self.get_db_prep_lookup(value, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 62, in get_db_prep_lookup
    self.lookup_name, value, connection, prepared=True))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 776, in get_db_prep_lookup
    prepared=prepared)]
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 2391, in get_db_prep_value
    value = uuid.UUID(value)
  File "/usr/lib/python2.7/uuid.py", line 136, in __init__
    raise ValueError('badly formed hexadecimal UUID string')
ValueError: badly formed hexadecimal UUID string
Internal Server Error: /app/sales/estimate/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 4269, in create_estimate
    product = Product.objects.get(pk=key)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 381, in get
    num = len(clone)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 240, in __len__
    self._fetch_all()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1074, in _fetch_all
    self._result_cache = list(self.iterator())
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 52, in __iter__
    results = compiler.execute_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 837, in execute_sql
    sql, params = self.as_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 389, in as_sql
    where, w_params = self.compile(self.where) if self.where is not None else ("", [])
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/where.py", line 79, in as_sql
    sql, params = compiler.compile(child)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 158, in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 91, in process_rhs
    return self.get_db_prep_lookup(value, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 62, in get_db_prep_lookup
    self.lookup_name, value, connection, prepared=True))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 776, in get_db_prep_lookup
    prepared=prepared)]
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 2391, in get_db_prep_value
    value = uuid.UUID(value)
  File "/usr/lib/python2.7/uuid.py", line 136, in __init__
    raise ValueError('badly formed hexadecimal UUID string')
ValueError: badly formed hexadecimal UUID string
Internal Server Error: /app/sales/estimate/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 4269, in create_estimate
    product = Product.objects.get(pk=key)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 381, in get
    num = len(clone)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 240, in __len__
    self._fetch_all()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1074, in _fetch_all
    self._result_cache = list(self.iterator())
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 52, in __iter__
    results = compiler.execute_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 837, in execute_sql
    sql, params = self.as_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 389, in as_sql
    where, w_params = self.compile(self.where) if self.where is not None else ("", [])
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/where.py", line 79, in as_sql
    sql, params = compiler.compile(child)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 158, in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 91, in process_rhs
    return self.get_db_prep_lookup(value, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 62, in get_db_prep_lookup
    self.lookup_name, value, connection, prepared=True))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 776, in get_db_prep_lookup
    prepared=prepared)]
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 2391, in get_db_prep_value
    value = uuid.UUID(value)
  File "/usr/lib/python2.7/uuid.py", line 136, in __init__
    raise ValueError('badly formed hexadecimal UUID string')
ValueError: badly formed hexadecimal UUID string
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 970, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/unit/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 2491, in create_unit
    data.save()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: duplicate key value violates unique constraint "products_measurement_shop_id_c8dfbb9b_uniq"
DETAIL:  Key (shop_id, code)=(ee8512cf-ba9f-4d75-b0f9-137dc95c7f46, TR1) already exists.

Internal Server Error: /app/purchases/purchase/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/purchases/views.py", line 295, in create_purchase
    return render(request,'purchases/entry.html',context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader.py", line 97, in render_to_string
    return template.render(context, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/backends/django.py", line 95, in render
    return self.template.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 206, in render
    return self._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 173, in render
    return compiled_parent._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 209, in render
    return template.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 208, in render
    return self._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 326, in render
    return nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 326, in render
    return nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 326, in render
    return nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 513, in render
    six.reraise(*exc_info)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 499, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/urlresolvers.py", line 600, in reverse
    return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/urlresolvers.py", line 508, in _reverse_with_prefix
    (lookup_view_s, args, kwargs, len(patterns), patterns))
NoReverseMatch: Reverse for 'create_sale' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 955, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 955, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 970, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/product/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 237, in create
    code = form.cleaned_data['code']
KeyError: 'code'
Internal Server Error: /app/products/product/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 237, in create
    code = form.cleaned_data['code']
KeyError: 'code'
Internal Server Error: /app/products/product/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 237, in create
    code = form.cleaned_data['code']
KeyError: 'code'
Internal Server Error: /app/products/product/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 283, in create
    data.save()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: null value in column "code" violates not-null constraint
DETAIL:  Failing row contains (e47dfd60-ade9-43c9-afc0-1cdb3b56b9d1, 5, 2019-04-19 09:55:58.145998+00, 2019-04-19 09:55:58.146041+00, 5, Orange, null, , , weight, 10.00, 100.00, 120.00, 0.00, 0.00, 0.00, 120.00, 0.00, 0.00, 0, 0.00, 1, 10, f, f, f, null, null, 1, ee8512cf-ba9f-4d75-b0f9-137dc95c7f46, null, null, 3fba9b20-ac67-4313-873c-3228778ad57a, 1, null).

Internal Server Error: /app/products/product/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 283, in create
    data.save()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: null value in column "code" violates not-null constraint
DETAIL:  Failing row contains (21568f63-db5c-49d3-84a4-b390082cc564, 5, 2019-04-19 09:56:05.560431+00, 2019-04-19 09:56:05.560511+00, 5, Orange, null, , , weight, 10.00, 100.00, 120.00, 0.00, 0.00, 0.00, 120.00, 0.00, 0.00, 0, 0.00, 1, 10, f, f, f, null, null, 1, ee8512cf-ba9f-4d75-b0f9-137dc95c7f46, null, null, 3fba9b20-ac67-4313-873c-3228778ad57a, 1, null).

Internal Server Error: /app/products/product/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 282, in create
    data.save()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: null value in column "code" violates not-null constraint
DETAIL:  Failing row contains (079aa697-8505-4853-b470-130aecab6816, 5, 2019-04-19 09:59:13.495425+00, 2019-04-19 09:59:13.495462+00, 5, Orange, null, , , weight, 100.00, 110.00, 130.00, 0.00, 0.00, 0.00, 130.00, 0.00, 0.00, 0, 0.00, 1, 10, f, f, f, null, null, 1, ee8512cf-ba9f-4d75-b0f9-137dc95c7f46, null, null, 3fba9b20-ac67-4313-873c-3228778ad57a, 1, null).

Internal Server Error: /app/products/product/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 282, in create
    data.save()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: null value in column "code" violates not-null constraint
DETAIL:  Failing row contains (99b6b09a-7b5c-4feb-908a-7a34b1d43644, 5, 2019-04-19 10:00:15.743928+00, 2019-04-19 10:00:15.743966+00, 5, Mango, null, , , weight, 100.00, 110.00, 130.00, 0.00, 0.00, 0.00, 130.00, 0.00, 0.00, 0, 0.00, 1, 10, f, f, f, null, null, 1, ee8512cf-ba9f-4d75-b0f9-137dc95c7f46, null, null, 3fba9b20-ac67-4313-873c-3228778ad57a, 1, null).

Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 833, in create
    distributor = Distributor.objects.get(user=request.user)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 387, in get
    self.model._meta.object_name
DoesNotExist: Distributor matching query does not exist.
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 833, in create
    distributor = Distributor.objects.get(user=request.user)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 387, in get
    self.model._meta.object_name
DoesNotExist: Distributor matching query does not exist.
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 851, in create
    data1.distributor = distributor
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/related_descriptors.py", line 199, in __set__
    (instance._meta.object_name, self.field.name)
ValueError: Cannot assign None: "Sale.distributor" does not allow null values.
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 851, in create
    data1.distributor = distributor
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/related_descriptors.py", line 199, in __set__
    (instance._meta.object_name, self.field.name)
ValueError: Cannot assign None: "Sale.distributor" does not allow null values.
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 851, in create
    data1.distributor = distributor
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/related_descriptors.py", line 199, in __set__
    (instance._meta.object_name, self.field.name)
ValueError: Cannot assign None: "Sale.distributor" does not allow null values.
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 850, in create
    data1.distributor = distributor
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/related_descriptors.py", line 199, in __set__
    (instance._meta.object_name, self.field.name)
ValueError: Cannot assign None: "Sale.distributor" does not allow null values.
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 850, in create
    data1.distributor = distributor
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/related_descriptors.py", line 199, in __set__
    (instance._meta.object_name, self.field.name)
ValueError: Cannot assign None: "Sale.distributor" does not allow null values.
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 850, in create
    data1.distributor = distributor
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/related_descriptors.py", line 199, in __set__
    (instance._meta.object_name, self.field.name)
ValueError: Cannot assign None: "Sale.distributor" does not allow null values.
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 851, in create
    data1.distributor = distributor
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/related_descriptors.py", line 199, in __set__
    (instance._meta.object_name, self.field.name)
ValueError: Cannot assign None: "Sale.distributor" does not allow null values.
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 954, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 954, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 856, in create
    data1.save()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: null value in column "distributor_id" violates not-null constraint
DETAIL:  Failing row contains (1ba6a487-1ef1-4dbe-b919-c5d2037df6fc, 3, 2019-04-19 15:18:15.166015+00, 2019-04-19 15:18:15.166045+00, 3, retail, NA3, 2019-04-19 15:18:00+00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, null, sgst, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, null, 3, orginal, 0, 0, f, 1, 80f6b9aa-f4d0-47e6-baa9-9d55dd98e80d, null, ee8512cf-ba9f-4d75-b0f9-137dc95c7f46, 1).

Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 856, in create
    data1.save()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: null value in column "distributor_id" violates not-null constraint
DETAIL:  Failing row contains (fc264618-ca98-4a47-8706-aa198dee8ad3, 3, 2019-04-19 15:18:45.445927+00, 2019-04-19 15:18:45.445963+00, 3, retail, NA3, 2019-04-19 15:18:00+00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, null, sgst, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, null, 3, orginal, 0, 0, f, 1, 80f6b9aa-f4d0-47e6-baa9-9d55dd98e80d, null, ee8512cf-ba9f-4d75-b0f9-137dc95c7f46, 1).

Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 856, in create
    data1.save()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: null value in column "distributor_id" violates not-null constraint
DETAIL:  Failing row contains (9a7e7633-d32c-40cf-b8a8-3ca8bd255cb0, 3, 2019-04-19 15:22:34.148925+00, 2019-04-19 15:22:34.148955+00, 3, retail, NA3, 2019-04-19 15:18:00+00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, null, sgst, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, null, 3, orginal, 0, 0, f, 1, 80f6b9aa-f4d0-47e6-baa9-9d55dd98e80d, null, ee8512cf-ba9f-4d75-b0f9-137dc95c7f46, 1).

Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 856, in create
    data1.save()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: null value in column "distributor_id" violates not-null constraint
DETAIL:  Failing row contains (0e8afb03-8521-4636-89aa-b1a41ab0f109, 3, 2019-04-19 15:24:21.076468+00, 2019-04-19 15:24:21.0765+00, 3, retail, NA3, 2019-04-19 15:18:00+00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, null, sgst, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, null, 3, orginal, 0, 0, f, 1, 80f6b9aa-f4d0-47e6-baa9-9d55dd98e80d, null, ee8512cf-ba9f-4d75-b0f9-137dc95c7f46, 1).

Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 856, in create
    data1.save()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: null value in column "distributor_id" violates not-null constraint
DETAIL:  Failing row contains (8cc89c83-e577-4f56-a80f-b9fe32657438, 3, 2019-04-19 15:25:25.183242+00, 2019-04-19 15:25:25.18328+00, 3, retail, NA3, 2019-04-19 15:18:00+00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, null, sgst, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, null, 3, orginal, 0, 0, f, 1, 80f6b9aa-f4d0-47e6-baa9-9d55dd98e80d, null, ee8512cf-ba9f-4d75-b0f9-137dc95c7f46, 1).

Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 855, in create
    data1.save()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: null value in column "distributor_id" violates not-null constraint
DETAIL:  Failing row contains (2f50e57c-4791-4696-a81d-b28fc44138e6, 3, 2019-04-19 15:26:02.119926+00, 2019-04-19 15:26:02.119954+00, 3, retail, NA3, 2019-04-19 15:18:00+00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, null, sgst, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, null, 3, orginal, 0, 0, f, 1, 80f6b9aa-f4d0-47e6-baa9-9d55dd98e80d, null, ee8512cf-ba9f-4d75-b0f9-137dc95c7f46, 1).

Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 855, in create
    data1.save()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: null value in column "distributor_id" violates not-null constraint
DETAIL:  Failing row contains (8e189b80-9f81-4b3f-a750-63060633b37b, 3, 2019-04-19 15:26:39.434535+00, 2019-04-19 15:26:39.434568+00, 3, retail, NA3, 2019-04-19 15:18:00+00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, null, sgst, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, null, 3, orginal, 0, 0, f, 1, 80f6b9aa-f4d0-47e6-baa9-9d55dd98e80d, null, ee8512cf-ba9f-4d75-b0f9-137dc95c7f46, 1).

Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 855, in create
    data1.save()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: null value in column "distributor_id" violates not-null constraint
DETAIL:  Failing row contains (e595f74e-bc5e-413a-a824-408162b52f8d, 3, 2019-04-19 15:27:00.153228+00, 2019-04-19 15:27:00.153267+00, 3, retail, NA3, 2019-04-19 15:18:00+00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, null, sgst, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, null, 3, orginal, 0, 0, f, 1, 80f6b9aa-f4d0-47e6-baa9-9d55dd98e80d, null, ee8512cf-ba9f-4d75-b0f9-137dc95c7f46, 1).

Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 857, in create
    data1.save()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: null value in column "distributor_id" violates not-null constraint
DETAIL:  Failing row contains (eaefecf7-c628-420f-bd90-c4206559d802, 3, 2019-04-19 15:27:21.154019+00, 2019-04-19 15:27:21.154065+00, 3, retail, NA3, 2019-04-19 15:18:00+00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, null, sgst, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, null, 3, orginal, 0, 0, f, 1, 80f6b9aa-f4d0-47e6-baa9-9d55dd98e80d, null, ee8512cf-ba9f-4d75-b0f9-137dc95c7f46, 1).

Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 855, in create
    data1.save()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: null value in column "distributor_id" violates not-null constraint
DETAIL:  Failing row contains (ab4e9dd1-a7ea-42fe-a684-ac965e21b6e0, 3, 2019-04-19 15:28:44.592411+00, 2019-04-19 15:28:44.592446+00, 3, retail, NA3, 2019-04-19 15:18:00+00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, null, sgst, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, null, 3, orginal, 0, 0, f, 1, 80f6b9aa-f4d0-47e6-baa9-9d55dd98e80d, null, ee8512cf-ba9f-4d75-b0f9-137dc95c7f46, 1).

Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1118, in create
    if not distributor.no_commission:
UnboundLocalError: local variable 'distributor' referenced before assignment
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1119, in create
    if not distributor.no_commission:
UnboundLocalError: local variable 'distributor' referenced before assignment
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1118, in create
    if not distributor.no_commission:
UnboundLocalError: local variable 'distributor' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 939, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 939, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 939, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 939, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 939, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 939, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 939, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 939, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 938, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 938, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 938, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 938, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 938, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 938, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 938, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 938, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 818, in get_product
    "code": u.unit.code,
UnboundLocalError: local variable 'u' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 959, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 959, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 959, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 959, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 959, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 918, in get_unit_price
    alternate_unit_instance = ProductAlternativeUnitPrice.objects.get(unit=instance,product=product_instance,shop=current_shop)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one ProductAlternativeUnitPrice -- it returned 2!
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 959, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 959, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 959, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 959, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 959, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 959, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 959, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 944, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 959, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 959, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 959, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 959, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 963, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 963, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 965, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 965, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 965, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 965, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 965, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 965, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 965, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 965, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 965, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 965, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 965, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 965, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 965, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 956, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 955, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/product/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 226, in create
    base_unit = Measurement.objects.get(shop=current_shop,is_base=True,is_deleted=False,unit_type=unit_type)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 387, in get
    self.model._meta.object_name
DoesNotExist: Measurement matching query does not exist.
Internal Server Error: /app/products/product/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 226, in create
    base_unit = Measurement.objects.get(shop=current_shop,is_base=True,is_deleted=False,unit_type=unit_type)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 387, in get
    self.model._meta.object_name
DoesNotExist: Measurement matching query does not exist.
Internal Server Error: /app/products/product/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 226, in create
    base_unit = Measurement.objects.get(shop=current_shop,is_base=True,is_deleted=False,unit_type=unit_type)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 387, in get
    self.model._meta.object_name
DoesNotExist: Measurement matching query does not exist.
Internal Server Error: /app/products/product/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 226, in create
    base_unit = Measurement.objects.get(shop=current_shop,is_base=True,is_deleted=False,unit_type=unit_type)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 387, in get
    self.model._meta.object_name
DoesNotExist: Measurement matching query does not exist.
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 942, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 960, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 993, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 993, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 992, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 992, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 956, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 644, in create
    cost = f.cleaned_data['cost']
KeyError: 'cost'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 644, in create
    cost = f.cleaned_data['cost']
KeyError: 'cost'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 932, in get_unit_price
    discount = round((discount_amount*100)/price)
  File "/usr/lib/python2.7/decimal.py", line 1320, in __truediv__
    return context._raise_error(DivisionUndefined, '0 / 0')
  File "/usr/lib/python2.7/decimal.py", line 3872, in _raise_error
    raise error(explanation)
InvalidOperation: 0 / 0
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 645, in create
    print "cost" + cost
TypeError: cannot concatenate 'str' and 'Decimal' objects
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 645, in create
    print "cost" + cost
TypeError: cannot concatenate 'str' and 'Decimal' objects
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 645, in create
    print "cost" + cost
TypeError: cannot concatenate 'str' and 'Decimal' objects
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 645, in create
    print "cost" + cost
TypeError: cannot concatenate 'str' and 'Decimal' objects
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 990, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 990, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 990, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 987, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 987, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 987, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 987, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 986, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 986, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1013, in get_unit_cost_price
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 986, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 986, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1013, in get_unit_cost_price
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1013, in get_unit_cost_price
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 986, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 986, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 986, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 986, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 986, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 986, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 986, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1012, in get_unit_cost_price
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1012, in get_unit_cost_price
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 881, in get_product
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 881, in get_product
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 881, in get_product
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 881, in get_product
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 881, in get_product
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 881, in get_product
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 881, in get_product
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 881, in get_product
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 881, in get_product
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 881, in get_product
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 881, in get_product
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 881, in get_product
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 881, in get_product
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 881, in get_product
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 881, in get_product
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 881, in get_product
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 881, in get_product
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 989, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1012, in get_unit_cost_price
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1012, in get_unit_cost_price
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 984, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1012, in get_unit_cost_price
    "discount_amount" : str(discount_amount),
UnboundLocalError: local variable 'discount_amount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 985, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1014, in get_unit_cost_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1014, in get_unit_cost_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1014, in get_unit_cost_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1014, in get_unit_cost_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1014, in get_unit_cost_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1014, in get_unit_cost_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1014, in get_unit_cost_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1014, in get_unit_cost_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1014, in get_unit_cost_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1014, in get_unit_cost_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 1005, in get_unit_cost_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/finance/balance-sheet/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/finance/views.py", line 2476, in create_balance_sheet
    form = LedgerForm(initial={'to_date':today,'from_date':from_date})
NameError: global name 'LedgerForm' is not defined
Internal Server Error: /app/finance/balance-sheet/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/finance/views.py", line 2492, in create_balance_sheet
    return render(request,'finance/create_balance_sheet.html',context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader.py", line 96, in render_to_string
    template = get_template(template_name, using=using)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader.py", line 43, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
TemplateDoesNotExist: finance/create_balance_sheet.html
Internal Server Error: /app/finance/balance-sheet/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/finance/views.py", line 2519, in balance_sheet
    income = instances.filter(transaction__isnull=False).aggregate(amount=Sum('income')).get('amount',0) or 0
NameError: global name 'Sum' is not defined
Internal Server Error: /app/finance/balance-sheet/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/finance/views.py", line 2520, in balance_sheet
    income = instances.filter(transaction__isnull=False).aggregate(amount=Sum('income')).get('amount',0) or 0
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 358, in aggregate
    return query.get_aggregation(self.db, kwargs.keys())
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/query.py", line 464, in get_aggregation
    result = compiler.execute_sql(SINGLE)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 848, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
ProgrammingError: relation "finance_journel" does not exist
LINE 1: ... SUM("finance_journel"."income") AS "amount" FROM "finance_j...
                                                             ^

Internal Server Error: /app/distributors/distributor/views/22603aab-01bc-4651-9961-4a26b1016ce9/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/distributors/views.py", line 179, in distributor
    return render(request,'distributors/distributor.html',context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader.py", line 97, in render_to_string
    return template.render(context, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/backends/django.py", line 95, in render
    return self.template.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 206, in render
    return self._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 173, in render
    return compiled_parent._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 200, in render
    template = context.template.engine.get_template(template_name)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/engine.py", line 190, in get_template
    template, origin = self.find_template(template_name, dirs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/engine.py", line 157, in find_template
    name, template_dirs=dirs, skip=skip,
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loaders/base.py", line 46, in get_template
    contents, origin, origin.template_name, self.engine,
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 189, in __init__
    self.nodelist = self.compile_nodelist()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 231, in compile_nodelist
    return parser.parse()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 516, in parse
    raise self.error(token, e)
TemplateSyntaxError: Could not parse the remainder: '{%' from 'is_{%'
Internal Server Error: /app/sales/create-sale-return/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3541, in create_sale_return
    if form.is_valid() and transaction_form.is_valid():
UnboundLocalError: local variable 'transaction_form' referenced before assignment
Internal Server Error: /app/sales/create-sale-return/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3541, in create_sale_return
    if form.is_valid() and transaction_form.is_valid():
UnboundLocalError: local variable 'transaction_form' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/sales/create-damaged-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 5274, in create_damaged_product
    image = image,
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 401, in create
    obj.save(force_insert=True, using=self.db)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
ProgrammingError: column "image" of relation "damaged_product" does not exist
LINE 1: ...", "qty", "unit_id", "is_deleted", "is_returned", "image") V...
                                                             ^

Internal Server Error: /app/sales/damaged-products/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3975, in damaged_products
    return render(request,'sales/returns/damaged_products.html',context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader.py", line 97, in render_to_string
    return template.render(context, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/backends/django.py", line 95, in render
    return self.template.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 206, in render
    return self._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 173, in render
    return compiled_parent._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 69, in render
    result = block.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 326, in render
    return nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 220, in render
    nodelist.append(node.render_annotated(context))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 1043, in render
    output = self.filter_expression.resolve(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 709, in resolve
    obj = self.var.resolve(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 850, in resolve
    value = self._resolve_lookup(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = getattr(current, bit)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/versatileimagefield/mixins.py", line 75, in url
    return super(VersatileImageMixIn, self).url
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/files.py", line 68, in _get_url
    self._require_file()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/files.py", line 46, in _require_file
    raise ValueError("The '%s' attribute has no file associated with it." % self.field.name)
ValueError: The 'image' attribute has no file associated with it.
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/sales/create-damaged-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 5312, in create_damaged_product
    message += generate_form_errors(damaged_product_formset,formset=True)
UnboundLocalError: local variable 'message' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1136, in create
    Journel.objects.create(
NameError: global name 'Journel' is not defined
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1139, in create
    Journel.objects.create(
NameError: global name 'Journel' is not defined
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 628, in create
    payment_by_cash = form.cleaned_data['payment_by_cash']
KeyError: 'payment_by_cash'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 628, in create
    payment_by_cash = form.cleaned_data['payment_by_cash']
KeyError: 'payment_by_cash'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1139, in create
    Journel.objects.create(
NameError: global name 'Journel' is not defined
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1139, in create
    Journel.objects.create(
NameError: global name 'Journel' is not defined
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1139, in create
    Journel.objects.create(
NameError: global name 'Journel' is not defined
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1129, in create
    add_transaction(request,transaction_form,data1,amount,"sale_payment","income",debit,credit)
  File "/srv/django/distribution_estile/src/distribution_estile/finance/functions.py", line 91, in add_transaction
    date = datetime.date.today(),
NameError: global name 'datetime' is not defined
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1129, in create
    add_transaction(request,transaction_form,data1,amount,"sale_payment","income",debit,credit)
  File "/srv/django/distribution_estile/src/distribution_estile/finance/functions.py", line 91, in add_transaction
    date = datetime.date.today(),
NameError: global name 'datetime' is not defined
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1129, in create
    add_transaction(request,transaction_form,data1,amount,"sale_payment","income",debit,credit)
  File "/srv/django/distribution_estile/src/distribution_estile/finance/functions.py", line 98, in add_transaction
    date = datetime.date.today(),
NameError: global name 'datetime' is not defined
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1129, in create
    add_transaction(request,transaction_form,data1,amount,"sale_payment","income",debit,credit)
  File "/srv/django/distribution_estile/src/distribution_estile/finance/functions.py", line 98, in add_transaction
    date = datetime.date.today(),
NameError: global name 'datetime' is not defined
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1129, in create
    add_transaction(request,transaction_form,data1,amount,"sale_payment","income",debit,credit)
  File "/srv/django/distribution_estile/src/distribution_estile/finance/functions.py", line 98, in add_transaction
    date = datetime.date.today(),
NameError: global name 'datetime' is not defined
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1129, in create
    add_transaction(request,transaction_form,data1,amount,"sale_payment","income",debit,credit)
  File "/srv/django/distribution_estile/src/distribution_estile/finance/functions.py", line 99, in add_transaction
    date = datetime.date.today(),
NameError: global name 'datetime' is not defined
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1129, in create
    add_transaction(request,transaction_form,data1,amount,"sale_payment","income",debit,credit)
  File "/srv/django/distribution_estile/src/distribution_estile/finance/functions.py", line 98, in add_transaction
    print shop
NameError: global name 'shop' is not defined
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1129, in create
    add_transaction(request,transaction_form,data1,amount,"sale_payment","income",debit,credit)
  File "/srv/django/distribution_estile/src/distribution_estile/finance/functions.py", line 98, in add_transaction
    print shop
NameError: global name 'shop' is not defined
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1129, in create
    add_transaction(request,transaction_form,data1,amount,"sale_payment","income",debit,credit)
  File "/srv/django/distribution_estile/src/distribution_estile/finance/functions.py", line 101, in add_transaction
    print transaction_data
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 474, in __str__
    return force_text(self).encode('utf-8')
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/utils/encoding.py", line 78, in force_text
    s = six.text_type(s)
TypeError: coercing to Unicode: need string or buffer, UUID found
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1129, in create
    add_transaction(request,transaction_form,data1,amount,"sale_payment","income",debit,credit)
  File "/srv/django/distribution_estile/src/distribution_estile/finance/functions.py", line 37, in add_transaction
    print transaction_data
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 474, in __str__
    return force_text(self).encode('utf-8')
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/utils/encoding.py", line 78, in force_text
    s = six.text_type(s)
TypeError: coercing to Unicode: need string or buffer, UUID found
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1129, in create
    add_transaction(request,transaction_form,data1,amount,"sale_payment","income",debit,credit)
  File "/srv/django/distribution_estile/src/distribution_estile/finance/functions.py", line 40, in add_transaction
    date = datetime.date.today(),
NameError: global name 'datetime' is not defined
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1129, in create
    add_transaction(request,transaction_form,data1,amount,"sale_payment","income",debit,credit)
  File "/srv/django/distribution_estile/src/distribution_estile/finance/functions.py", line 104, in add_transaction
    date = datetime.date.today(),
NameError: global name 'datetime' is not defined
Internal Server Error: /app/sales/sale/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1129, in create
    add_transaction(request,transaction_form,data1,amount,"sale_payment","income",debit,credit)
  File "/srv/django/distribution_estile/src/distribution_estile/finance/functions.py", line 104, in add_transaction
    date = datetime.date.today(),
NameError: global name 'datetime' is not defined
Internal Server Error: /app/sales/sale/edit/6a2d3f8b-a27e-4b5c-8abc-f1a8a44ed92b/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2131, in edit
    return render(request, 'sales/entry.html', context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader.py", line 97, in render_to_string
    return template.render(context, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/backends/django.py", line 95, in render
    return self.template.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 206, in render
    return self._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 173, in render
    return compiled_parent._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 69, in render
    result = block.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 1049, in render
    return render_value_in_context(output, context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 1026, in render_value_in_context
    value = force_text(value)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/utils/encoding.py", line 78, in force_text
    s = six.text_type(s)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/utils/html.py", line 381, in <lambda>
    klass.__unicode__ = lambda self: mark_safe(klass_unicode(self))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/forms/boundfield.py", line 43, in __str__
    return self.as_widget()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/forms/boundfield.py", line 101, in as_widget
    return force_text(widget.render(name, self.value(), attrs=attrs))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/forms/widgets.py", line 528, in render
    options = self.render_options(choices, [value])
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/forms/widgets.py", line 554, in render_options
    for option_value, option_label in chain(self.choices, choices):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/forms/models.py", line 1105, in __iter__
    queryset = self.queryset.all()
AttributeError: 'CashAccount' object has no attribute 'all'
Internal Server Error: /app/sales/sale/edit/6a2d3f8b-a27e-4b5c-8abc-f1a8a44ed92b/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2131, in edit
    return render(request, 'sales/entry.html', context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader.py", line 97, in render_to_string
    return template.render(context, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/backends/django.py", line 95, in render
    return self.template.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 206, in render
    return self._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 173, in render
    return compiled_parent._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 69, in render
    result = block.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 1049, in render
    return render_value_in_context(output, context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 1026, in render_value_in_context
    value = force_text(value)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/utils/encoding.py", line 78, in force_text
    s = six.text_type(s)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/utils/html.py", line 381, in <lambda>
    klass.__unicode__ = lambda self: mark_safe(klass_unicode(self))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/forms/boundfield.py", line 43, in __str__
    return self.as_widget()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/forms/boundfield.py", line 101, in as_widget
    return force_text(widget.render(name, self.value(), attrs=attrs))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/forms/widgets.py", line 528, in render
    options = self.render_options(choices, [value])
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/forms/widgets.py", line 554, in render_options
    for option_value, option_label in chain(self.choices, choices):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/forms/models.py", line 1105, in __iter__
    queryset = self.queryset.all()
AttributeError: 'CashAccount' object has no attribute 'all'
Internal Server Error: /app/sales/sale/edit/94a5b1aa-627b-41ff-a768-645a6cdec364/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2131, in edit
    return render(request, 'sales/entry.html', context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader.py", line 97, in render_to_string
    return template.render(context, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/backends/django.py", line 95, in render
    return self.template.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 206, in render
    return self._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 173, in render
    return compiled_parent._render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 69, in render
    result = block.nodelist.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 1049, in render
    return render_value_in_context(output, context)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 1026, in render_value_in_context
    value = force_text(value)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/utils/encoding.py", line 78, in force_text
    s = six.text_type(s)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/utils/html.py", line 381, in <lambda>
    klass.__unicode__ = lambda self: mark_safe(klass_unicode(self))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/forms/boundfield.py", line 43, in __str__
    return self.as_widget()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/forms/boundfield.py", line 101, in as_widget
    return force_text(widget.render(name, self.value(), attrs=attrs))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/forms/widgets.py", line 528, in render
    options = self.render_options(choices, [value])
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/forms/widgets.py", line 554, in render_options
    for option_value, option_label in chain(self.choices, choices):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/forms/models.py", line 1105, in __iter__
    queryset = self.queryset.all()
AttributeError: 'CashAccount' object has no attribute 'all'
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/94a5b1aa-627b-41ff-a768-645a6cdec364/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1612, in edit
    if not distributor.is_salesman :
AttributeError: 'NoneType' object has no attribute 'is_salesman'
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 955, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 955, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 941, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 955, in get_unit_price
    "discount" : str(discount),
UnboundLocalError: local variable 'discount' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1608, in edit
    prev_qty = SaleItem.objects.get(sale=instance,product=product,return_item=return_item).qty
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one SaleItem -- it returned 2!
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1619, in edit
    prev_qty = SaleItem.objects.get(sale=instance,product=product,return_item=return_item).qty
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one SaleItem -- it returned 2!
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1619, in edit
    prev_qty = SaleItem.objects.get(sale=instance,product=product,return_item=return_item).qty
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one SaleItem -- it returned 2!
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1619, in edit
    prev_qty = SaleItem.objects.get(sale=instance,product=product,return_item=return_item).qty
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one SaleItem -- it returned 2!
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1619, in edit
    prev_qty = SaleItem.objects.get(sale=instance,product=product,return_item=return_item).qty
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one SaleItem -- it returned 2!
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1619, in edit
    prev_qty = SaleItem.objects.get(sale=instance,product=product,return_item=return_item).qty
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one SaleItem -- it returned 2!
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1621, in edit
    prev_qty = SaleItem.objects.get(sale=instance,product=product,return_item=return_item).qty
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one SaleItem -- it returned 2!
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1622, in edit
    prev_qty = SaleItem.objects.get(sale=instance,product=product,return_item=return_item).qty
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one SaleItem -- it returned 2!
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1622, in edit
    prev_qty = SaleItem.objects.get(sale=instance,product=product,return_item=return_item)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one SaleItem -- it returned 2!
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1622, in edit
    prev_qty = SaleItem.objects.get(sale=instance,product=product,return_item=return_item)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one SaleItem -- it returned 2!
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1648, in edit
    distributor = Distributor.objects.get(user=distributor.user)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/utils/functional.py", line 205, in inner
    return func(self._wrapped, *args)
AttributeError: 'User' object has no attribute 'user'
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1703, in edit
    prev_qty = SaleItem.objects.get(sale=instance,product=product,return_item=return_item).qty
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one SaleItem -- it returned 2!
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1703, in edit
    prev_qty = SaleItem.objects.get(sale=instance,product=product,return_item=return_item).qty
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one SaleItem -- it returned 2!
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1706, in edit
    prev_qty = SaleItem.objects.get(sale=instance,product=product,return_item=return_item).qty
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 391, in get
    (self.model._meta.object_name, num)
MultipleObjectsReturned: get() returned more than one SaleItem -- it returned 2!
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1872, in edit
    if not distributor.is_salesman :
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/utils/functional.py", line 205, in inner
    return func(self._wrapped, *args)
AttributeError: 'User' object has no attribute 'is_salesman'
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1864, in edit
    if not distributor.is_salesman :
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/utils/functional.py", line 205, in inner
    return func(self._wrapped, *args)
AttributeError: 'User' object has no attribute 'is_salesman'
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1864, in edit
    if not distributor.is_salesman :
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/utils/functional.py", line 205, in inner
    return func(self._wrapped, *args)
AttributeError: 'User' object has no attribute 'is_salesman'
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1864, in edit
    if not distributor.is_salesman :
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/utils/functional.py", line 205, in inner
    return func(self._wrapped, *args)
AttributeError: 'User' object has no attribute 'is_salesman'
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1883, in edit
    if not distributor.no_commission:
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/utils/functional.py", line 205, in inner
    return func(self._wrapped, *args)
AttributeError: 'User' object has no attribute 'no_commission'
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 1883, in edit
    if not distributor.no_commission:
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/utils/functional.py", line 205, in inner
    return func(self._wrapped, *args)
AttributeError: 'User' object has no attribute 'no_commission'
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2006, in edit
    if Journel.objects.filter(transaction=data).exists():
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2008, in edit
    if Journel.objects.filter(transaction=data).exists():
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2009, in edit
    if Journel.objects.filter(transaction=data).exists():
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2009, in edit
    if Journel.objects.filter(transaction=data).exists():
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2010, in edit
    if Journel.objects.filter(transaction=data).exists():
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2011, in edit
    if Journel.objects.filter(transaction=data).exists():
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2069, in edit
    if Journel.objects.filter(transaction=data).exists():
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2070, in edit
    if Journel.objects.filter(transaction=data).exists():
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2071, in edit
    if Journel.objects.filter(transaction=data).exists():
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2070, in edit
    if Journel.objects.filter(transaction__pk=data.pk).exists():
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2070, in edit
    if Journel.objects.filter(transaction=data).exists():
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/2ede4653-804e-4dba-9542-d60a1dd4bc68/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2069, in edit
    journels = Journel.objects.filter(transaction=data,is_deleted=False)
NameError: global name 'Journel' is not defined
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/f5889809-bab7-47cd-ab9a-20f54d0da6a1/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2069, in edit
    journels = Journel.objects.filter(transaction=data,is_deleted=False)
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/26d6a79a-7c38-4e4e-9278-114239db7c12/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2069, in edit
    journels = Journel.objects.filter(transaction=data,is_deleted=False)
NameError: global name 'Journel' is not defined
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 988, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/26d6a79a-7c38-4e4e-9278-114239db7c12/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2068, in edit
    journels = Journel.objects.filter(sale=data1,is_deleted=False)
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/26d6a79a-7c38-4e4e-9278-114239db7c12/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2067, in edit
    journels = Journel.objects.filter(sale=data1,is_deleted=False)
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/26d6a79a-7c38-4e4e-9278-114239db7c12/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2067, in edit
    if Journel.objects.filter(sale__pk=data1.pk).exists():
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/f79087fc-b3b7-4a2c-b3b5-4ce6f121499d/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2067, in edit
    if Journel.objects.filter(sale__pk=data1.pk).exists():
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/f79087fc-b3b7-4a2c-b3b5-4ce6f121499d/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2067, in edit
    if Journel.objects.filter(sale__pk='f79087fc-b3b7-4a2c-b3b5-4ce6f121499d').exists():
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/f79087fc-b3b7-4a2c-b3b5-4ce6f121499d/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2067, in edit
    if Journel.objects.filter(sale__pk='f79087fc-b3b7-4a2c-b3b5-4ce6f121499d').exist():
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/f79087fc-b3b7-4a2c-b3b5-4ce6f121499d/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2067, in edit
    if Journel.objects.filter(sale__pk='f79087fc-b3b7-4a2c-b3b5-4ce6f121499d').exists():
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/f79087fc-b3b7-4a2c-b3b5-4ce6f121499d/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2067, in edit
    Journel.objects.filter(sale=data1).update(
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/f79087fc-b3b7-4a2c-b3b5-4ce6f121499d/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2067, in edit
    Journel.objects.filter(sale=data1)[0].update(
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/f79087fc-b3b7-4a2c-b3b5-4ce6f121499d/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2067, in edit
    journels = Journel.objects.filter(sale=data1)[0]
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/f79087fc-b3b7-4a2c-b3b5-4ce6f121499d/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2067, in edit
    if Journel.objects.filter(sale=data1).exists():
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/f79087fc-b3b7-4a2c-b3b5-4ce6f121499d/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2067, in edit
    jj=Journel.objects.filter(sale=data1)
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/sales/sale/edit/f79087fc-b3b7-4a2c-b3b5-4ce6f121499d/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 262, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 2067, in edit
    jj=Journel.objects.all()
NameError: global name 'Journel' is not defined
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/customers/get-customer-discount/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/customers/views.py", line 432, in get_customer_discount
    'price' : str(price),
UnboundLocalError: local variable 'price' referenced before assignment
Internal Server Error: /app/products/product/edit/59122daf-3ea5-4813-9b12-7eba5383ff90/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 648, in edit
    alternative_unit_formset = AlternativeUnitFormset(prefix='alternative_unit_formset',product=instance)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/forms/models.py", line 873, in __init__
    queryset=qs, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/forms/models.py", line 562, in __init__
    super(BaseModelFormSet, self).__init__(**defaults)
TypeError: __init__() got an unexpected keyword argument 'product'
Internal Server Error: /app/products/product/edit/59122daf-3ea5-4813-9b12-7eba5383ff90/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 648, in edit
    alternative_unit_formset = AlternativeUnitFormset(prefix='alternative_unit_formset',instance__product=instance)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/forms/models.py", line 873, in __init__
    queryset=qs, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/forms/models.py", line 562, in __init__
    super(BaseModelFormSet, self).__init__(**defaults)
TypeError: __init__() got an unexpected keyword argument 'instance__product'
Internal Server Error: /app/products/product/edit/59122daf-3ea5-4813-9b12-7eba5383ff90/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 650, in edit
    alternative_unit_formset = AlternativeUnitFormset(prefix='alternative_unit_formset',instance=alter_units)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/forms/models.py", line 868, in __init__
    if self.instance.pk is not None:
AttributeError: 'QuerySet' object has no attribute 'pk'
Internal Server Error: /app/products/product/edit/59122daf-3ea5-4813-9b12-7eba5383ff90/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 629, in edit
    for form in alternative_unit_formset:
NameError: global name 'alternative_unit_formset' is not defined
Internal Server Error: /app/products/product/edit/59122daf-3ea5-4813-9b12-7eba5383ff90/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 617, in edit
    for form in alternative_unit_formset:
NameError: global name 'alternative_unit_formset' is not defined
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/purchases/purchase/edit/d956a746-f7f9-4cfe-9763-292c726a180d/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/purchases/views.py", line 516, in edit_purchase
    product = Product.objects.get(pk=key)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 381, in get
    num = len(clone)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 240, in __len__
    self._fetch_all()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1074, in _fetch_all
    self._result_cache = list(self.iterator())
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 52, in __iter__
    results = compiler.execute_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 837, in execute_sql
    sql, params = self.as_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 389, in as_sql
    where, w_params = self.compile(self.where) if self.where is not None else ("", [])
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/where.py", line 79, in as_sql
    sql, params = compiler.compile(child)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 158, in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 91, in process_rhs
    return self.get_db_prep_lookup(value, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 62, in get_db_prep_lookup
    self.lookup_name, value, connection, prepared=True))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 776, in get_db_prep_lookup
    prepared=prepared)]
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 2391, in get_db_prep_value
    value = uuid.UUID(value)
  File "/usr/lib/python2.7/uuid.py", line 136, in __init__
    raise ValueError('badly formed hexadecimal UUID string')
ValueError: badly formed hexadecimal UUID string
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/purchases/purchase/edit/d83e3faa-221e-497f-a292-b2456d0e4b9e/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/purchases/views.py", line 516, in edit_purchase
    product = Product.objects.get(pk=key)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 381, in get
    num = len(clone)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 240, in __len__
    self._fetch_all()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1074, in _fetch_all
    self._result_cache = list(self.iterator())
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 52, in __iter__
    results = compiler.execute_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 837, in execute_sql
    sql, params = self.as_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 389, in as_sql
    where, w_params = self.compile(self.where) if self.where is not None else ("", [])
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/where.py", line 79, in as_sql
    sql, params = compiler.compile(child)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 158, in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 91, in process_rhs
    return self.get_db_prep_lookup(value, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 62, in get_db_prep_lookup
    self.lookup_name, value, connection, prepared=True))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 776, in get_db_prep_lookup
    prepared=prepared)]
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 2391, in get_db_prep_value
    value = uuid.UUID(value)
  File "/usr/lib/python2.7/uuid.py", line 136, in __init__
    raise ValueError('badly formed hexadecimal UUID string')
ValueError: badly formed hexadecimal UUID string
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/purchases/purchase/edit/23d5d5f2-1e14-428c-8c75-101f00cbcfa3/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/purchases/views.py", line 516, in edit_purchase
    product = Product.objects.get(pk=key)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 381, in get
    num = len(clone)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 240, in __len__
    self._fetch_all()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1074, in _fetch_all
    self._result_cache = list(self.iterator())
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 52, in __iter__
    results = compiler.execute_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 837, in execute_sql
    sql, params = self.as_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 389, in as_sql
    where, w_params = self.compile(self.where) if self.where is not None else ("", [])
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/where.py", line 79, in as_sql
    sql, params = compiler.compile(child)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 158, in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 91, in process_rhs
    return self.get_db_prep_lookup(value, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 62, in get_db_prep_lookup
    self.lookup_name, value, connection, prepared=True))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 776, in get_db_prep_lookup
    prepared=prepared)]
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 2391, in get_db_prep_value
    value = uuid.UUID(value)
  File "/usr/lib/python2.7/uuid.py", line 136, in __init__
    raise ValueError('badly formed hexadecimal UUID string')
ValueError: badly formed hexadecimal UUID string
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/get-unit-cost-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 952, in get_unit_cost_price
    tax_excluded_cash_price = (product_instance.cash_price - discount) * 100 /(100+product_instance.tax)
AttributeError: 'Product' object has no attribute 'cash_price'
Internal Server Error: /app/products/product/edit/59122daf-3ea5-4813-9b12-7eba5383ff90/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 643, in edit
    alternative_unit_formset = AlternativeUnitFormset(prefix='alternative_unit_formset',instance=instance)
NameError: global name 'AlternativeUnitFormset' is not defined
Internal Server Error: /app/products/product/edit/59122daf-3ea5-4813-9b12-7eba5383ff90/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 548, in edit
    alternative_unit_formset = AlternativeFormset(request.POST,prefix='alternative_unit_formset',instance=instance)
NameError: global name 'AlternativeFormset' is not defined
Internal Server Error: /app/products/product/edit/59122daf-3ea5-4813-9b12-7eba5383ff90/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 532, in edit
    alternative_unit_formset = AlternativeFormset(request.POST,prefix='alternative_unit_formset',instance=instance)
NameError: global name 'AlternativeFormset' is not defined
Internal Server Error: /app/products/product/edit/59122daf-3ea5-4813-9b12-7eba5383ff90/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 532, in edit
    alternative_unit_formset = AlternativeFormset(request.POST,prefix='alternative_unit_formset',instance=instance)
NameError: global name 'AlternativeFormset' is not defined
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 905, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 905, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 904, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 904, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 904, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 904, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 904, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 904, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 904, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 904, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 904, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 904, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 904, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 904, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 904, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 904, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 904, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 904, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/sales/create-damaged-product/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 5233, in create_damaged_product
    product = Product.objects.get(pk=key)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 381, in get
    num = len(clone)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 240, in __len__
    self._fetch_all()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1074, in _fetch_all
    self._result_cache = list(self.iterator())
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 52, in __iter__
    results = compiler.execute_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 837, in execute_sql
    sql, params = self.as_sql()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 389, in as_sql
    where, w_params = self.compile(self.where) if self.where is not None else ("", [])
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/where.py", line 79, in as_sql
    sql, params = compiler.compile(child)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 366, in compile
    sql, params = node.as_sql(self, self.connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 158, in as_sql
    rhs_sql, rhs_params = self.process_rhs(compiler, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 91, in process_rhs
    return self.get_db_prep_lookup(value, connection)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/lookups.py", line 62, in get_db_prep_lookup
    self.lookup_name, value, connection, prepared=True))
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 776, in get_db_prep_lookup
    prepared=prepared)]
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/fields/__init__.py", line 2391, in get_db_prep_value
    value = uuid.UUID(value)
  File "/usr/lib/python2.7/uuid.py", line 136, in __init__
    raise ValueError('badly formed hexadecimal UUID string')
ValueError: badly formed hexadecimal UUID string
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 904, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 904, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 904, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/products/get-unit-price/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/products/views.py", line 904, in get_unit_price
    elif Decimal(new_customer_discount) > 0 :
  File "/usr/lib/python2.7/decimal.py", line 657, in __new__
    raise TypeError("Cannot convert %r to Decimal" % value)
TypeError: Cannot convert None to Decimal
Internal Server Error: /app/sales/create-sale-return/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3523, in create_sale_return
    if form.is_valid() and transaction_form.is_valid():
UnboundLocalError: local variable 'transaction_form' referenced before assignment
Internal Server Error: /app/sales/create-sale-return/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3523, in create_sale_return
    if form.is_valid() and transaction_form.is_valid():
UnboundLocalError: local variable 'transaction_form' referenced before assignment
Internal Server Error: /app/sales/create-sale-return/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3768, in create_sale_return
    "message" : message,
UnboundLocalError: local variable 'message' referenced before assignment
Internal Server Error: /app/sales/create-sale-return/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3581, in create_sale_return
    if not request.user == is_superuser:
NameError: global name 'is_superuser' is not defined
Internal Server Error: /app/sales/create-sale-return/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3582, in create_sale_return
    if not request.user == is_superuser:
NameError: global name 'is_superuser' is not defined
Internal Server Error: /app/sales/create-sale-return/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3593, in create_sale_return
    if not request.user == is_superuser:
NameError: global name 'is_superuser' is not defined
Internal Server Error: /app/sales/create-sale-return/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3593, in create_sale_return
    if not request.user == is_superuser:
NameError: global name 'is_superuser' is not defined
Internal Server Error: /app/sales/create-sale-return/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3676, in create_sale_return
    transaction_mode = transaction_form.cleaned_data['transaction_mode']
AttributeError: 'TransactionForm' object has no attribute 'cleaned_data'
Internal Server Error: /app/sales/create-sale-return/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3677, in create_sale_return
    amount_returned = form.cleaned_data['amount_returned']
KeyError: 'amount_returned'
Internal Server Error: /app/sales/create-sale-return/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3534, in create_sale_return
    return_amount = request.post.get('return_amount')
AttributeError: 'WSGIRequest' object has no attribute 'post'
Internal Server Error: /app/sales/create-sale-return/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3534, in create_sale_return
    return_amount = request.post.get('return_amount')
AttributeError: 'WSGIRequest' object has no attribute 'post'
Internal Server Error: /app/sales/create-sale-return/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3698, in create_sale_return
    expense = amount_returned
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 401, in create
    obj.save(force_insert=True, using=self.db)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: null value in column "cash_credit" violates not-null constraint
DETAIL:  Failing row contains (10, 2019-05-02, 0.00, null, 0.00, 0.00, 0.00, null, f, d97ff7e4-4edf-458e-839a-4b4078d82b3e, 2e13fcbd-d79f-4e3b-be8b-66ab3926ef98, null, null, null, null, null, null, null, null, null, null, null, null).

Internal Server Error: /app/sales/create-sale-return/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3698, in create_sale_return
    expense = amount_returned
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 401, in create
    obj.save(force_insert=True, using=self.db)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: null value in column "cash_credit" violates not-null constraint
DETAIL:  Failing row contains (11, 2019-05-02, 0.00, null, 0.00, 0.00, 0.00, null, f, d97ff7e4-4edf-458e-839a-4b4078d82b3e, 2a292fc9-b3d1-4413-b38f-bfd1c8f0e2af, null, null, null, null, null, null, null, null, null, null, null, null).

Internal Server Error: /app/sales/create-sale-return/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3698, in create_sale_return
    expense = amount_returned
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 401, in create
    obj.save(force_insert=True, using=self.db)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: null value in column "cash_credit" violates not-null constraint
DETAIL:  Failing row contains (12, 2019-05-02, 0.00, null, 0.00, 0.00, 0.00, null, f, d97ff7e4-4edf-458e-839a-4b4078d82b3e, 8b7ba4af-0c46-4810-a891-4d3089c2e856, null, null, null, null, null, null, null, null, null, null, null, null).

Internal Server Error: /app/sales/create-sale-return/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3696, in create_sale_return
    expense = amount_returned
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 401, in create
    obj.save(force_insert=True, using=self.db)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/transaction.py", line 223, in __exit__
    connection.commit()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/base/base.py", line 242, in commit
    self._commit()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/base/base.py", line 211, in _commit
    return self.connection.commit()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/base/base.py", line 211, in _commit
    return self.connection.commit()
IntegrityError: insert or update on table "finance_journel" violates foreign key constraint "finance_journel_transaction_id_f4290e61_fk_transaction_id"
DETAIL:  Key (transaction_id)=(507979c7-4cb9-42af-a889-591734d6424c) is not present in table "transaction".

Internal Server Error: /app/sales/create-sale-return/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3697, in create_sale_return
    expense = amount_returned
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 401, in create
    obj.save(force_insert=True, using=self.db)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/transaction.py", line 223, in __exit__
    connection.commit()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/base/base.py", line 242, in commit
    self._commit()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/base/base.py", line 211, in _commit
    return self.connection.commit()
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/base/base.py", line 211, in _commit
    return self.connection.commit()
IntegrityError: insert or update on table "finance_journel" violates foreign key constraint "finance_journel_transaction_id_f4290e61_fk_transaction_id"
DETAIL:  Key (transaction_id)=(cf943825-702f-496b-a36e-63df70cec263) is not present in table "transaction".

Internal Server Error: /app/sales/create-sale-return/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3692, in create_sale_return
    balance = balance - amount
NameError: global name 'amount' is not defined
Internal Server Error: /app/sales/create-sale-return/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3692, in create_sale_return
    balance = balance - amount
NameError: global name 'amount' is not defined
Internal Server Error: /app/sales/create-sale-return/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/sales/views.py", line 3630, in create_sale_return
    if not request.is_superuser:
AttributeError: 'WSGIRequest' object has no attribute 'is_superuser'
Internal Server Error: /app/staffs/staff-salary/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/staffs/views.py", line 646, in create_staff_salary
    Journel.objects.create(
NameError: global name 'Journel' is not defined
Internal Server Error: /app/staffs/staff-salary/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/staffs/views.py", line 651, in create_staff_salary
    expense = amount
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 401, in create
    obj.save(force_insert=True, using=self.db)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: null value in column "shop_id" violates not-null constraint
DETAIL:  Failing row contains (24, 2019-05-03, 600.00, 0.00, 0.00, 0.00, 0.00, 600.00, f, null, 554acd33-5bb6-46cc-bfeb-c48f7fd35e91, null, null, null, null, null, null, null, null, null, null, null, null).

Internal Server Error: /app/staffs/staff-salary/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/staffs/views.py", line 651, in create_staff_salary
    expense = amount
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 401, in create
    obj.save(force_insert=True, using=self.db)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: null value in column "shop_id" violates not-null constraint
DETAIL:  Failing row contains (25, 2019-05-03, 900.00, 0.00, 0.00, 0.00, 0.00, 900.00, f, null, d33d0ea3-e1f0-4345-958a-141cbf01b85a, null, null, null, null, null, null, null, null, null, null, null, null).

Internal Server Error: /app/staffs/staff-salary/create/
Traceback (most recent call last):
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/srv/django/distribution_estile/src/distribution_estile/staffs/views.py", line 650, in create_staff_salary
    expense = amount
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 401, in create
    obj.save(force_insert=True, using=self.db)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/srv/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: null value in column "shop_id" violates not-null constraint
DETAIL:  Failing row contains (26, 2019-05-03, 0.00, 900.00, 0.00, 0.00, 0.00, 900.00, f, null, 9be1e23c-da60-4fde-9012-8669c9fd8dec, null, null, null, null, null, null, null, null, null, null, null, null).

Internal Server Error: /
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 24, in wrap
    mode = Mode.objects.get(id=1)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 387, in get
    self.model._meta.object_name
DoesNotExist: Mode matching query does not exist.
Internal Server Error: /
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 24, in wrap
    mode = Mode.objects.get(id=1)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 387, in get
    self.model._meta.object_name
DoesNotExist: Mode matching query does not exist.
Internal Server Error: /
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 24, in wrap
    mode = Mode.objects.get(id=1)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 387, in get
    self.model._meta.object_name
DoesNotExist: Mode matching query does not exist.
Internal Server Error: /
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 24, in wrap
    mode = Mode.objects.get(id=1)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 387, in get
    self.model._meta.object_name
DoesNotExist: Mode matching query does not exist.
Internal Server Error: /
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 24, in wrap
    mode = Mode.objects.get(id=1)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 387, in get
    self.model._meta.object_name
DoesNotExist: Mode matching query does not exist.
Internal Server Error: /app/vendors/vendor-autocomplete/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
    'more': self.has_more(context)
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: UUID('79f74688-1f30-4b98-953f-3a38d298663f') is not JSON serializable
Internal Server Error: /app/vendors/vendor-autocomplete/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
    'more': self.has_more(context)
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: UUID('79f74688-1f30-4b98-953f-3a38d298663f') is not JSON serializable
Internal Server Error: /app/vendors/vendor-autocomplete/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
    'more': self.has_more(context)
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: UUID('79f74688-1f30-4b98-953f-3a38d298663f') is not JSON serializable
Internal Server Error: /app/vendors/vendor-autocomplete/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
    'more': self.has_more(context)
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: UUID('79f74688-1f30-4b98-953f-3a38d298663f') is not JSON serializable
Internal Server Error: /app/vendors/vendor-autocomplete/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
    'more': self.has_more(context)
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: UUID('79f74688-1f30-4b98-953f-3a38d298663f') is not JSON serializable
Internal Server Error: /app/products/product-autocomplete/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
    'more': self.has_more(context)
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: UUID('1506f567-05e0-4209-acc9-4479957fce2b') is not JSON serializable
Internal Server Error: /app/products/product-autocomplete/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
    'more': self.has_more(context)
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: UUID('1506f567-05e0-4209-acc9-4479957fce2b') is not JSON serializable
Internal Server Error: /app/products/product-autocomplete/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
    'more': self.has_more(context)
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: UUID('1506f567-05e0-4209-acc9-4479957fce2b') is not JSON serializable
Internal Server Error: /app/products/product-autocomplete/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
    'more': self.has_more(context)
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: UUID('1506f567-05e0-4209-acc9-4479957fce2b') is not JSON serializable
Internal Server Error: /app/products/product-autocomplete/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
    'more': self.has_more(context)
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: UUID('1506f567-05e0-4209-acc9-4479957fce2b') is not JSON serializable
Internal Server Error: /app/products/product/create-new-product/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/products/views.py", line 3358, in create_new_product
    "text" : data.code + " - " + data.name,
TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'
Internal Server Error: /app/shop/create/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/views.py", line 936, in create_shop
    updator=request.user
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 708, in save
    force_update=force_update, update_fields=update_fields)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 736, in save_base
    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 820, in _save_table
    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/base.py", line 859, in _do_insert
    using=using, raw=raw)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/manager.py", line 122, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/query.py", line 1039, in _insert
    return query.get_compiler(using=using).execute_sql(return_id)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/models/sql/compiler.py", line 1060, in execute_sql
    cursor.execute(sql, params)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 79, in execute
    return super(CursorDebugWrapper, self).execute(sql, params)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/utils.py", line 95, in __exit__
    six.reraise(dj_exc_type, dj_exc_value, traceback)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/db/backends/utils.py", line 64, in execute
    return self.cursor.execute(sql, params)
IntegrityError: duplicate key value violates unique constraint "products_measurement_auto_id_key"
DETAIL:  Key (auto_id)=(37) already exists.

Internal Server Error: /app/dashboard/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/views.py", line 90, in dashboard
    return render(request,"base.html",context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader.py", line 97, in render_to_string
    return template.render(context, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/backends/django.py", line 95, in render
    return self.template.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 206, in render
    return self._render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 209, in render
    return template.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 208, in render
    return self._render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 326, in render
    return nodelist.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 326, in render
    return nodelist.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 326, in render
    return nodelist.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 513, in render
    six.reraise(*exc_info)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 499, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/urlresolvers.py", line 596, in reverse
    key)
NoReverseMatch: u'manufacturing' is not a registered namespace
Internal Server Error: /app/dashboard/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/views.py", line 90, in dashboard
    return render(request,"base.html",context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/shortcuts.py", line 67, in render
    template_name, context, request=request, using=using)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader.py", line 97, in render_to_string
    return template.render(context, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/backends/django.py", line 95, in render
    return self.template.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 206, in render
    return self._render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/loader_tags.py", line 209, in render
    return template.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 208, in render
    return self._render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 197, in _render
    return self.nodelist.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 326, in render
    return nodelist.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 326, in render
    return nodelist.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 326, in render
    return nodelist.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 992, in render
    bit = node.render_annotated(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/base.py", line 959, in render_annotated
    return self.render(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 513, in render
    six.reraise(*exc_info)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/template/defaulttags.py", line 499, in render
    url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/urlresolvers.py", line 596, in reverse
    key)
NoReverseMatch: u'manufacturing' is not a registered namespace
Internal Server Error: /app/report/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/views.py", line 204, in reports
    this_period_store_expenses = chart_store_item_purchases.filter(time__year=this_year,time__month=this_month)
NameError: global name 'chart_store_item_purchases' is not defined
Internal Server Error: /app/report/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/views.py", line 204, in reports
    this_period_store_expenses = chart_store_item_purchases.filter(time__year=this_year,time__month=this_month)
NameError: global name 'chart_store_item_purchases' is not defined
Internal Server Error: /app/products/product-autocomplete/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
    'more': self.has_more(context)
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: UUID('cba0d331-f79a-4559-b728-d1da833d5362') is not JSON serializable
Internal Server Error: /app/products/product-autocomplete/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
    'more': self.has_more(context)
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: UUID('cba0d331-f79a-4559-b728-d1da833d5362') is not JSON serializable
Internal Server Error: /app/products/product/create-new-product/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/products/views.py", line 3358, in create_new_product
    "text" : data.code + " - " + data.name,
TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'
Internal Server Error: /app/products/product/create-new-product/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 205, in _arguments_wrapper
    return view_method(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/products/views.py", line 3358, in create_new_product
    "text" : data.code + " - " + data.name,
TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'
Internal Server Error: /app/products/product-autocomplete/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 68, in view
    return self.dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal/views.py", line 30, in dispatch
    return super(ViewMixin, self).dispatch(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/base.py", line 88, in dispatch
    return handler(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/generic/list.py", line 175, in get
    return self.render_to_response(context)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/dal_select2/views.py", line 38, in render_to_response
    'more': self.has_more(context)
  File "/usr/lib/python2.7/json/__init__.py", line 244, in dumps
    return _default_encoder.encode(obj)
  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode
    return _iterencode(o, 0)
  File "/usr/lib/python2.7/json/encoder.py", line 184, in default
    raise TypeError(repr(o) + " is not JSON serializable")
TypeError: UUID('cba0d331-f79a-4559-b728-d1da833d5362') is not JSON serializable
Internal Server Error: /app/report/
Traceback (most recent call last):
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 149, in get_response
    response = self.process_exception_by_middleware(e, request)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/core/handlers/base.py", line 147, in get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 48, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/contrib/auth/decorators.py", line 23, in _wrapped_view
    return view_func(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 59, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/decorators.py", line 16, in wrap
    return function(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/venv/local/lib/python2.7/site-packages/django/views/decorators/http.py", line 42, in inner
    return func(request, *args, **kwargs)
  File "/home/techpe/Documents/kiran/django/distribution_estile/src/distribution_estile/main/views.py", line 204, in reports
    this_period_store_expenses = chart_store_item_purchases.filter(time__year=this_year,time__month=this_month)
NameError: global name 'chart_store_item_purchases' is not defined
